<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>TMCache Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">TMCache </a></h1>
				<a id="developerHome" href="../index.html">Tumblr</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">TMCache Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/currentDiskBytes">&nbsp;&nbsp;&nbsp;&nbsp;currentDiskBytes</option>
	
	<option value="//api/name/currentDiskCount">&nbsp;&nbsp;&nbsp;&nbsp;currentDiskCount</option>
	
	<option value="//api/name/currentMemoryBytes">&nbsp;&nbsp;&nbsp;&nbsp;currentMemoryBytes</option>
	
	<option value="//api/name/currentMemoryCount">&nbsp;&nbsp;&nbsp;&nbsp;currentMemoryCount</option>
	
	<option value="//api/name/diskCacheByteLimit">&nbsp;&nbsp;&nbsp;&nbsp;diskCacheByteLimit</option>
	
	<option value="//api/name/diskCacheMaxAge">&nbsp;&nbsp;&nbsp;&nbsp;diskCacheMaxAge</option>
	
	<option value="//api/name/memoryCacheByteLimit">&nbsp;&nbsp;&nbsp;&nbsp;memoryCacheByteLimit</option>
	
	<option value="//api/name/memoryCacheCountLimit">&nbsp;&nbsp;&nbsp;&nbsp;memoryCacheCountLimit</option>
	
	<option value="//api/name/name">&nbsp;&nbsp;&nbsp;&nbsp;name</option>
	
	<option value="//api/name/queue">&nbsp;&nbsp;&nbsp;&nbsp;queue</option>
	
	<option value="//api/name/willEvictDataFromDiskBlock">&nbsp;&nbsp;&nbsp;&nbsp;willEvictDataFromDiskBlock</option>
	
	<option value="//api/name/willEvictDataFromMemoryBlock">&nbsp;&nbsp;&nbsp;&nbsp;willEvictDataFromMemoryBlock</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedCache">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedCache</option>
	
	<option value="//api/name/withName:">&nbsp;&nbsp;&nbsp;&nbsp;+ withName:</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/clearAllCaches">&nbsp;&nbsp;&nbsp;&nbsp;- clearAllCaches</option>
	
	<option value="//api/name/clearAllCaches:">&nbsp;&nbsp;&nbsp;&nbsp;- clearAllCaches:</option>
	
	<option value="//api/name/clearDiskCache">&nbsp;&nbsp;&nbsp;&nbsp;- clearDiskCache</option>
	
	<option value="//api/name/clearDiskCache:">&nbsp;&nbsp;&nbsp;&nbsp;- clearDiskCache:</option>
	
	<option value="//api/name/clearMemoryCache">&nbsp;&nbsp;&nbsp;&nbsp;- clearMemoryCache</option>
	
	<option value="//api/name/clearMemoryCache:">&nbsp;&nbsp;&nbsp;&nbsp;- clearMemoryCache:</option>
	
	<option value="//api/name/dataForKey:">&nbsp;&nbsp;&nbsp;&nbsp;- dataForKey:</option>
	
	<option value="//api/name/dataForKey:block:">&nbsp;&nbsp;&nbsp;&nbsp;- dataForKey:block:</option>
	
	<option value="//api/name/fileURLForKey:">&nbsp;&nbsp;&nbsp;&nbsp;- fileURLForKey:</option>
	
	<option value="//api/name/fileURLForKey:block:">&nbsp;&nbsp;&nbsp;&nbsp;- fileURLForKey:block:</option>
	
	<option value="//api/name/initWithName:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithName:</option>
	
	<option value="//api/name/removeDataForKey:">&nbsp;&nbsp;&nbsp;&nbsp;- removeDataForKey:</option>
	
	<option value="//api/name/removeDataForKey:block:">&nbsp;&nbsp;&nbsp;&nbsp;- removeDataForKey:block:</option>
	
	<option value="//api/name/setData:forKey:">&nbsp;&nbsp;&nbsp;&nbsp;- setData:forKey:</option>
	
	<option value="//api/name/setData:forKey:block:">&nbsp;&nbsp;&nbsp;&nbsp;- setData:forKey:block:</option>
	
	<option value="//api/name/trimDiskCacheToDate:">&nbsp;&nbsp;&nbsp;&nbsp;- trimDiskCacheToDate:</option>
	
	<option value="//api/name/trimDiskCacheToDate:block:">&nbsp;&nbsp;&nbsp;&nbsp;- trimDiskCacheToDate:block:</option>
	
	<option value="//api/name/trimDiskCacheToSize:">&nbsp;&nbsp;&nbsp;&nbsp;- trimDiskCacheToSize:</option>
	
	<option value="//api/name/trimDiskCacheToSize:block:">&nbsp;&nbsp;&nbsp;&nbsp;- trimDiskCacheToSize:block:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Vitals">Vitals</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Memory Cache">Memory Cache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Disk Cache">Disk Cache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Current Usage">Current Usage</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Genesis">Genesis</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Clear Caches (Asynchronously)">Clear Caches (Asynchronously)</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Clear Caches (Synchronously)">Clear Caches (Synchronously)</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Trim Disk Cache (Asynchronously)">Trim Disk Cache (Asynchronously)</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Trim Disk Cache (Synchronously)">Trim Disk Cache (Synchronously)</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Read &amp; Write (Asynchronously)">Read &amp; Write (Asynchronously)</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Read &amp; Write (Synchronously)">Read &amp; Write (Synchronously)</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentDiskBytes">currentDiskBytes</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentDiskCount">currentDiskCount</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentMemoryBytes">currentMemoryBytes</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentMemoryCount">currentMemoryCount</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/diskCacheByteLimit">diskCacheByteLimit</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/diskCacheMaxAge">diskCacheMaxAge</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/memoryCacheByteLimit">memoryCacheByteLimit</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/memoryCacheCountLimit">memoryCacheCountLimit</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/name">name</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/queue">queue</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/willEvictDataFromDiskBlock">willEvictDataFromDiskBlock</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/willEvictDataFromMemoryBlock">willEvictDataFromMemoryBlock</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedCache">sharedCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/withName:">withName:</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearAllCaches">clearAllCaches</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearAllCaches:">clearAllCaches:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearDiskCache">clearDiskCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearDiskCache:">clearDiskCache:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearMemoryCache">clearMemoryCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearMemoryCache:">clearMemoryCache:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/dataForKey:">dataForKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/dataForKey:block:">dataForKey:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/fileURLForKey:">fileURLForKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/fileURLForKey:block:">fileURLForKey:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithName:">initWithName:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeDataForKey:">removeDataForKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeDataForKey:block:">removeDataForKey:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setData:forKey:">setData:forKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setData:forKey:block:">setData:forKey:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/trimDiskCacheToDate:">trimDiskCacheToDate:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/trimDiskCacheToDate:block:">trimDiskCacheToDate:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/trimDiskCacheToSize:">trimDiskCacheToSize:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/trimDiskCacheToSize:block:">trimDiskCacheToSize:block:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="TMCache Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">TMCache Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value">NSCacheDelegate</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">TMCache.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p><code>TMCache</code> comprises two caches, one in memory and one on disk. It accepts <code>NSData</code> objects,
writes them to disk, and manages their lifetime in the background based on certain conditions.</p>

<p>The memory cache is a thin wrapper around <code>NSCache</code>, which incorporates various auto-removal
policies based on memory usage. The disk cache mirrors the memory cache but persists data so
that it can be recovered when memory conditions improve (or the app restarts).</p>

<p>Data is saved to the <code>NSCachesDirectory</code> of the app, meaning that it should not be used for
reliable longterm storage. The system may remove the contents of this directory at any time.</p>

<h2>Concurrency</h2>

<p>Every method comes in two flavors: synchronous and asynchronous. The asynchronous methods
accept an optional completion block and return immediately, the synchronous methods block
the calling thread until they finish. In both cases the work takes place on a serial <a href="#//api/name/queue">queue</a>.</p>

<p>The asynchronous methods are safe to call from any thread at any time, including their own
completion blocks. The synchronous methods are safe to call from any thread <em>except</em> within
the completion blocks of the asynchronous methods or the <code>willEvictData</code> blocks.</p>

<p>Only one queue is created per cache <a href="#//api/name/name">name</a>, and multiple instances of <code>TMCache</code> with the
same name will share the same serial queue to prevent disk access conflicts. In addition,
the target of this <a href="#//api/name/queue">queue</a> can be set to any other queue, allowing <code>TMCache</code> to integrate
e.g. with an existing application I/O queue.</p>

<pre><code>dispatch_set_target_queue([[TMCache sharedCache] queue], [YourApp ioQueue]);
</code></pre>

<h2>Limits</h2>

<p>By default, <code>TMCache</code> sets its memory limit at 10 MB. As noted in the <code>NSCache</code> header, this
limit is &ldquo;imprecise/not strict&rdquo;, so actual memory usage may occasionally exceed this number.
Setting the <a href="#//api/name/memoryCacheByteLimit">memoryCacheByteLimit</a> property to 0 effectively removes the limit.</p>

<p>The <a href="#//api/name/diskCacheByteLimit">diskCacheByteLimit</a> and <a href="#//api/name/diskCacheMaxAge">diskCacheMaxAge</a> both default to <code>0</code>. A check is performed every
time new data is written to disk, and when these are properties are greater than zero the disk
cache is trimmed accordingly. In most cases it will be more performant to periodically trim
the disk cache manually, e.g. when the app exits or goes to background.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Vitals" name="task_Vitals"></a>
						<h3 class="subsubtitle task-title">Vitals</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/name">&nbsp;&nbsp;name</a></code>
		<span class="tooltip"><p>The name of the cache is used in three places:
&ndash; the disk cache directory path
&ndash; the name property of the <a href="#//api/name/queue">queue</a>, which appears in stack traces
&ndash; the <code>description</code> method</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/queue">&nbsp;&nbsp;queue</a></code>
		<span class="tooltip"><p>A serial queue where nearly all work is performed. Only one queue is created per cache <a href="#//api/name/name">name</a>,
so this queue will be the same object across different instances with the same <a href="#//api/name/name">name</a>. This
queue can safely target any other queue for integration with an existing system.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Memory Cache" name="task_Memory Cache"></a>
						<h3 class="subsubtitle task-title">Memory Cache</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/memoryCacheByteLimit">&nbsp;&nbsp;memoryCacheByteLimit</a></code>
		<span class="tooltip"><p>When the memory cache exceeds this byte limit data will start being evicted in the background.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/memoryCacheCountLimit">&nbsp;&nbsp;memoryCacheCountLimit</a></code>
		<span class="tooltip"><p>When the memory cache exceeds this object limit data will start being evicted in the background.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/willEvictDataFromMemoryBlock">&nbsp;&nbsp;willEvictDataFromMemoryBlock</a></code>
		<span class="tooltip"><p>Executed for each <code>NSData</code> object right before it is evicted from the memory cache.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Disk Cache" name="task_Disk Cache"></a>
						<h3 class="subsubtitle task-title">Disk Cache</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/diskCacheByteLimit">&nbsp;&nbsp;diskCacheByteLimit</a></code>
		<span class="tooltip"><p>When the disk cache exceeds this byte limit data will start being evicted in the background.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/diskCacheMaxAge">&nbsp;&nbsp;diskCacheMaxAge</a></code>
		<span class="tooltip"><p>Data in the disk cache older than this number of seconds will be evicted in the background.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/willEvictDataFromDiskBlock">&nbsp;&nbsp;willEvictDataFromDiskBlock</a></code>
		<span class="tooltip"><p>Executed for every file right before it is evicted from the disk cache, except as a result of
<a href="#//api/name/clearDiskCache:">clearDiskCache:</a> or <a href="#//api/name/clearAllCaches:">clearAllCaches:</a>.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Current Usage" name="task_Current Usage"></a>
						<h3 class="subsubtitle task-title">Current Usage</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/currentMemoryBytes">&nbsp;&nbsp;currentMemoryBytes</a></code>
		<span class="tooltip"><p>The current memory usage, in bytes.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentMemoryCount">&nbsp;&nbsp;currentMemoryCount</a></code>
		<span class="tooltip"><p>The current number of itmes cached in memory.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentDiskBytes">&nbsp;&nbsp;currentDiskBytes</a></code>
		<span class="tooltip"><p>The current disk usage, in bytes.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentDiskCount">&nbsp;&nbsp;currentDiskCount</a></code>
		<span class="tooltip"><p>The current number of itmes cached on disk.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Genesis" name="task_Genesis"></a>
						<h3 class="subsubtitle task-title">Genesis</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithName:">&ndash;&nbsp;initWithName:</a></code>
		<span class="tooltip"><p>Creates a new <code>TMCache</code>.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/withName:">+&nbsp;withName:</a></code>
		<span class="tooltip"><p>Creates a new <code>TMCache</code>.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedCache">+&nbsp;sharedCache</a></code>
		<span class="tooltip"><p>A singleton shared cache accessible anywhere in the app.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Clear Caches (Asynchronously)" name="task_Clear Caches (Asynchronously)"></a>
						<h3 class="subsubtitle task-title">Clear Caches (Asynchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/clearMemoryCache:">&ndash;&nbsp;clearMemoryCache:</a></code>
		<span class="tooltip"><p>Clears the memory cache asynchronously.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearDiskCache:">&ndash;&nbsp;clearDiskCache:</a></code>
		<span class="tooltip"><p>Clears the disk cache asynchronously.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearAllCaches:">&ndash;&nbsp;clearAllCaches:</a></code>
		<span class="tooltip"><p>Clears both memory and disk caches asynchronously.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Clear Caches (Synchronously)" name="task_Clear Caches (Synchronously)"></a>
						<h3 class="subsubtitle task-title">Clear Caches (Synchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/clearMemoryCache">&ndash;&nbsp;clearMemoryCache</a></code>
		<span class="tooltip"><p>Clears the memory cache synchronously, blocking the calling thread until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearDiskCache">&ndash;&nbsp;clearDiskCache</a></code>
		<span class="tooltip"><p>Clears the disk cache synchronously, blocking the calling thread until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearAllCaches">&ndash;&nbsp;clearAllCaches</a></code>
		<span class="tooltip"><p>Clears both memory and disk caches synchronously, blocking the calling thread until finished.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Trim Disk Cache (Asynchronously)" name="task_Trim Disk Cache (Asynchronously)"></a>
						<h3 class="subsubtitle task-title">Trim Disk Cache (Asynchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/trimDiskCacheToSize:block:">&ndash;&nbsp;trimDiskCacheToSize:block:</a></code>
		<span class="tooltip"><p>Trims the disk cache to the specified size asynchronously, starting with items having the
oldest access date.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/trimDiskCacheToDate:block:">&ndash;&nbsp;trimDiskCacheToDate:block:</a></code>
		<span class="tooltip"><p>Trims the disk cache asynchronously of all items with an access date older than the specified date.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Trim Disk Cache (Synchronously)" name="task_Trim Disk Cache (Synchronously)"></a>
						<h3 class="subsubtitle task-title">Trim Disk Cache (Synchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/trimDiskCacheToSize:">&ndash;&nbsp;trimDiskCacheToSize:</a></code>
		<span class="tooltip"><p>Trims the disk cache synchronously, blocking the calling thread until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/trimDiskCacheToDate:">&ndash;&nbsp;trimDiskCacheToDate:</a></code>
		<span class="tooltip"><p>Trims the disk cache synchronously, blocking the calling thread until finished.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Read &amp; Write (Asynchronously)" name="task_Read &amp; Write (Asynchronously)"></a>
						<h3 class="subsubtitle task-title">Read &amp; Write (Asynchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/dataForKey:block:">&ndash;&nbsp;dataForKey:block:</a></code>
		<span class="tooltip"><p>Retrives data with the specified key from the cache asynchronously. In the event of the data
not being available the completion block is executed with <code>nil</code>.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/fileURLForKey:block:">&ndash;&nbsp;fileURLForKey:block:</a></code>
		<span class="tooltip"><p>Retrives the file URL with the specified key from the cache asynchronously. In the event of the file
not being available the completion block is executed with <code>nil</code>. The data itself is not accessed.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeDataForKey:block:">&ndash;&nbsp;removeDataForKey:block:</a></code>
		<span class="tooltip"><p>Removes data with the specified key from the cache asynchronously.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setData:forKey:block:">&ndash;&nbsp;setData:forKey:block:</a></code>
		<span class="tooltip"><p>Adds data to the cache asynchronously with the specified key.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Read &amp; Write (Synchronously)" name="task_Read &amp; Write (Synchronously)"></a>
						<h3 class="subsubtitle task-title">Read &amp; Write (Synchronously)</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/dataForKey:">&ndash;&nbsp;dataForKey:</a></code>
		<span class="tooltip"><p>Retrives data with the specified key from the cache synchronously, blocking the calling thread
until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/fileURLForKey:">&ndash;&nbsp;fileURLForKey:</a></code>
		<span class="tooltip"><p>Retrives the file URL with the specified key from the cache synchronously, blocking the calling
thread until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeDataForKey:">&ndash;&nbsp;removeDataForKey:</a></code>
		<span class="tooltip"><p>Removes data with the specified key from the cache synchronously, blocking the calling thread
until finished.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/setData:forKey:">&ndash;&nbsp;setData:forKey:</a></code>
		<span class="tooltip"><p>Adds data to the cache asynchronously with the specified key, blocking the calling thread
until finished.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/currentDiskBytes" title="currentDiskBytes"></a>
	<h3 class="subsubtitle method-title">currentDiskBytes</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current disk usage, in bytes.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readonly) NSUInteger currentDiskBytes</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentDiskCount" title="currentDiskCount"></a>
	<h3 class="subsubtitle method-title">currentDiskCount</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current number of itmes cached on disk.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readonly) NSUInteger currentDiskCount</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentMemoryBytes" title="currentMemoryBytes"></a>
	<h3 class="subsubtitle method-title">currentMemoryBytes</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current memory usage, in bytes.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readonly) NSUInteger currentMemoryBytes</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentMemoryCount" title="currentMemoryCount"></a>
	<h3 class="subsubtitle method-title">currentMemoryCount</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current number of itmes cached in memory.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readonly) NSUInteger currentMemoryCount</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/diskCacheByteLimit" title="diskCacheByteLimit"></a>
	<h3 class="subsubtitle method-title">diskCacheByteLimit</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>When the disk cache exceeds this byte limit data will start being evicted in the background.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign) NSUInteger diskCacheByteLimit</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/diskCacheMaxAge" title="diskCacheMaxAge"></a>
	<h3 class="subsubtitle method-title">diskCacheMaxAge</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Data in the disk cache older than this number of seconds will be evicted in the background.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign) NSTimeInterval diskCacheMaxAge</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/memoryCacheByteLimit" title="memoryCacheByteLimit"></a>
	<h3 class="subsubtitle method-title">memoryCacheByteLimit</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>When the memory cache exceeds this byte limit data will start being evicted in the background.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign) NSUInteger memoryCacheByteLimit</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/memoryCacheCountLimit" title="memoryCacheCountLimit"></a>
	<h3 class="subsubtitle method-title">memoryCacheCountLimit</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>When the memory cache exceeds this object limit data will start being evicted in the background.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign) NSUInteger memoryCacheCountLimit</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/name" title="name"></a>
	<h3 class="subsubtitle method-title">name</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The name of the cache is used in three places:
&ndash; the disk cache directory path
&ndash; the name property of the <a href="#//api/name/queue">queue</a>, which appears in stack traces
&ndash; the <code>description</code> method</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (copy, readonly) NSString *name</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/queue" title="queue"></a>
	<h3 class="subsubtitle method-title">queue</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A serial queue where nearly all work is performed. Only one queue is created per cache <a href="#//api/name/name">name</a>,
so this queue will be the same object across different instances with the same <a href="#//api/name/name">name</a>. This
queue can safely target any other queue for integration with an existing system.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readonly) dispatch_queue_t queue</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Safe to access from any thread at any time.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/willEvictDataFromDiskBlock" title="willEvictDataFromDiskBlock"></a>
	<h3 class="subsubtitle method-title">willEvictDataFromDiskBlock</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Executed for every file right before it is evicted from the disk cache, except as a result of
<a href="#//api/name/clearDiskCache:">clearDiskCache:</a> or <a href="#//api/name/clearAllCaches:">clearAllCaches:</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (copy) TMCacheDataBlock willEvictDataFromDiskBlock</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/willEvictDataFromMemoryBlock" title="willEvictDataFromMemoryBlock"></a>
	<h3 class="subsubtitle method-title">willEvictDataFromMemoryBlock</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Executed for each <code>NSData</code> object right before it is evicted from the memory cache.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (copy) TMCacheDataBlock willEvictDataFromMemoryBlock</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not access this property within the completion blocks of the other methods.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedCache" title="sharedCache"></a>
	<h3 class="subsubtitle method-title">sharedCache</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A singleton shared cache accessible anywhere in the app.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (instancetype)sharedCache</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared cache.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/withName:" title="withName:"></a>
	<h3 class="subsubtitle method-title">withName:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a new <code>TMCache</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (instancetype)withName:(NSString *)<em>name</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>A name for the cache.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An autoreleased cache with the specified name.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/name">@property name</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/clearAllCaches" title="clearAllCaches"></a>
	<h3 class="subsubtitle method-title">clearAllCaches</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears both memory and disk caches synchronously, blocking the calling thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearAllCaches</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearAllCaches:" title="clearAllCaches:"></a>
	<h3 class="subsubtitle method-title">clearAllCaches:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears both memory and disk caches asynchronously.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearAllCaches:(TMCacheBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block executed after the caches have been cleared.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearDiskCache" title="clearDiskCache"></a>
	<h3 class="subsubtitle method-title">clearDiskCache</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears the disk cache synchronously, blocking the calling thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearDiskCache</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearDiskCache:" title="clearDiskCache:"></a>
	<h3 class="subsubtitle method-title">clearDiskCache:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears the disk cache asynchronously.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearDiskCache:(TMCacheBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block executed after the cache has been cleared.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearMemoryCache" title="clearMemoryCache"></a>
	<h3 class="subsubtitle method-title">clearMemoryCache</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears the memory cache synchronously, blocking the calling thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearMemoryCache</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/clearMemoryCache:" title="clearMemoryCache:"></a>
	<h3 class="subsubtitle method-title">clearMemoryCache:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Clears the memory cache asynchronously.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearMemoryCache:(TMCacheBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block executed after the cache has been cleared.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/dataForKey:" title="dataForKey:"></a>
	<h3 class="subsubtitle method-title">dataForKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrives data with the specified key from the cache synchronously, blocking the calling thread
until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSData *)dataForKey:(NSString *)<em>key</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the requested data.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The data for the specified key.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/dataForKey:block:">&ndash; dataForKey:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/dataForKey:block:" title="dataForKey:block:"></a>
	<h3 class="subsubtitle method-title">dataForKey:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrives data with the specified key from the cache asynchronously. In the event of the data
not being available the completion block is executed with <code>nil</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)dataForKey:(NSString *)<em>key</em> block:(TMCacheDataBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the requested data.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block to be excuted after the data has been retrieved.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/fileURLForKey:" title="fileURLForKey:"></a>
	<h3 class="subsubtitle method-title">fileURLForKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrives the file URL with the specified key from the cache synchronously, blocking the calling
thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSURL *)fileURLForKey:(NSString *)<em>key</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the requested file URL.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The file URL for the specified key.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/fileURLForKey:block:">&ndash; fileURLForKey:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/fileURLForKey:block:" title="fileURLForKey:block:"></a>
	<h3 class="subsubtitle method-title">fileURLForKey:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrives the file URL with the specified key from the cache asynchronously. In the event of the file
not being available the completion block is executed with <code>nil</code>. The data itself is not accessed.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)fileURLForKey:(NSString *)<em>key</em> block:(TMCacheDataBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the requested file URL.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block to be excuted after the data has been retrieved.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithName:" title="initWithName:"></a>
	<h3 class="subsubtitle method-title">initWithName:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a new <code>TMCache</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (instancetype)initWithName:(NSString *)<em>name</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>name</em></dt>
			<dd><p>A name for the cache.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A cache with the specified name.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/name">@property name</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeDataForKey:" title="removeDataForKey:"></a>
	<h3 class="subsubtitle method-title">removeDataForKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Removes data with the specified key from the cache synchronously, blocking the calling thread
until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeDataForKey:(NSString *)<em>key</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the data to be removed.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/removeDataForKey:block:">&ndash; removeDataForKey:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeDataForKey:block:" title="removeDataForKey:block:"></a>
	<h3 class="subsubtitle method-title">removeDataForKey:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Removes data with the specified key from the cache asynchronously.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeDataForKey:(NSString *)<em>key</em> block:(TMCacheDataBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the data to be removed.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block to be excuted after the data has been removed.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setData:forKey:" title="setData:forKey:"></a>
	<h3 class="subsubtitle method-title">setData:forKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds data to the cache asynchronously with the specified key, blocking the calling thread
until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)setData:(NSData *)<em>data</em> forKey:(NSString *)<em>key</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>data</em></dt>
			<dd><p>The data to be added to the cache.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the data being added.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/setData:forKey:block:">&ndash; setData:forKey:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setData:forKey:block:" title="setData:forKey:block:"></a>
	<h3 class="subsubtitle method-title">setData:forKey:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds data to the cache asynchronously with the specified key.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)setData:(NSData *)<em>data</em> forKey:(NSString *)<em>key</em> block:(TMCacheDataBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>data</em></dt>
			<dd><p>The data to be added to the cache.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The key for the data being added.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block to be excuted after the data has been added.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/trimDiskCacheToDate:" title="trimDiskCacheToDate:"></a>
	<h3 class="subsubtitle method-title">trimDiskCacheToDate:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Trims the disk cache synchronously, blocking the calling thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)trimDiskCacheToDate:(NSDate *)<em>date</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>date</em></dt>
			<dd><p>The date of the oldest permissible item in the disk cache.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/trimDiskCacheToDate:block:">&ndash; trimDiskCacheToDate:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/trimDiskCacheToDate:block:" title="trimDiskCacheToDate:block:"></a>
	<h3 class="subsubtitle method-title">trimDiskCacheToDate:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Trims the disk cache asynchronously of all items with an access date older than the specified date.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)trimDiskCacheToDate:(NSDate *)<em>date</em> block:(TMCacheBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>date</em></dt>
			<dd><p>The date of the oldest permissible item in the disk cache.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block executed after the disk has been trimmed.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/trimDiskCacheToSize:" title="trimDiskCacheToSize:"></a>
	<h3 class="subsubtitle method-title">trimDiskCacheToSize:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Trims the disk cache synchronously, blocking the calling thread until finished.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)trimDiskCacheToSize:(NSUInteger)<em>bytes</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>bytes</em></dt>
			<dd><p>The maxmimum number of bytes left on disk after the trim.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection see-also-section">
		<h4 class="method-subtitle">See Also</h4>
		<ul>
			
			<li><code><p><a href="#//api/name/trimDiskCacheToSize:block:">&ndash; trimDiskCacheToSize:block:</a></p></code></li>
			
		</ul>
	</div>
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/trimDiskCacheToSize:block:" title="trimDiskCacheToSize:block:"></a>
	<h3 class="subsubtitle method-title">trimDiskCacheToSize:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Trims the disk cache to the specified size asynchronously, starting with items having the
oldest access date.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)trimDiskCacheToSize:(NSUInteger)<em>bytes</em> block:(TMCacheBlock)<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>bytes</em></dt>
			<dd><p>The maxmimum number of bytes left on disk after the trim.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>A block executed after the disk has been trimmed.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TMCache.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Tumblr. All rights reserved. (Last updated: 2013-04-11)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>